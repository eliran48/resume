<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eliran Or - No-Code Automation Specialist</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Assistant -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Assistant', sans-serif;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }

        /* Improved Yo-Yo Animation */
        @keyframes yoyo-drop {
            0% { transform: translateY(-100%); }
            40% { transform: translateY(0); }
            65% { transform: translateY(0); } /* Sleep time */
            100% { transform: translateY(-100%); }
        }

        @keyframes yoyo-spin {
            0% { transform: rotate(0deg); }
            40% { transform: rotate(720deg); }
            65% { transform: rotate(1800deg); } /* Fast spin during sleep */
            100% { transform: rotate(2880deg); }
        }

        .yo-yo-container:hover #yo-yo-body-wrapper {
            animation: yoyo-drop 1.9s cubic-bezier(0.45, 0.05, 0.55, 0.95) forwards;
        }
        .yo-yo-container:hover #yo-yo-body {
             animation: yoyo-spin 1.9s linear forwards;
        }
        
        #yo-yo-body-wrapper, #yo-yo-body {
            animation: none;
        }

        /* Custom scrollbar for chat */
        #chat-window::-webkit-scrollbar {
            width: 8px;
        }
        #chat-window::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        #chat-window::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 4px;
        }
        #chat-window::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Container for the resume -->
    <div class="container mx-auto p-4 sm:p-6 md:p-12">
        <div class="bg-white shadow-2xl rounded-2xl overflow-hidden lg:flex fade-in">
            
            <!-- Left Column (Sidebar) -->
            <aside class="w-full lg:w-1/3 bg-gray-800 text-white p-6 sm:p-8">
                <div class="text-center">
                    <!-- Profile Picture -->
                    <img src="1O9A0425.jpg" alt="Profile Picture" class="rounded-full w-32 h-32 sm:w-36 sm:h-36 mx-auto mb-4 border-4 border-teal-400 shadow-lg object-cover" onerror="this.onerror=null;this.src='https://placehold.co/144x144/2dd4bf/ffffff?text=EO';">
                    <h1 class="text-3xl sm:text-4xl font-bold text-white">Eliran Or</h1>
                    <h2 class="text-xl text-teal-300 mt-1">No-Code Automation Specialist</h2>
                </div>

                <div class="mt-12 space-y-8">
                    <!-- Contact Info Section -->
                    <section>
                        <h3 class="text-xl font-semibold border-b-2 border-teal-400 pb-2 mb-4">Contact Info</h3>
                        <ul class="space-y-4 text-gray-300">
                            <li class="flex items-center gap-x-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg><span>050-2582519</span></li>
                            <li class="flex items-center gap-x-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg><a href="mailto:info@eliranor.com" class="hover:text-teal-300 transition-colors duration-300">info@eliranor.com</a></li>
                            <li class="flex items-center gap-x-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg><span>Tel Aviv, Israel</span></li>
                            <li class="flex items-center gap-x-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-400" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg><a href="https://www.linkedin.com/in/eliran-or" target="_blank" class="hover:text-teal-300 transition-colors duration-300">linkedin.com/in/eliran-or</a></li>
                        </ul>
                    </section>
                    
                    <!-- Skills & Tools Section -->
                    <section>
                        <h3 class="text-xl font-semibold border-b-2 border-teal-400 pb-2 mb-4">Skills & Tools</h3>
                        <div class="flex flex-wrap gap-2 pt-2">
                            <span class="bg-teal-500 text-gray-900 text-sm font-semibold px-3 py-1 rounded-full">Make (Integromat)</span>
                            <span class="bg-teal-500 text-gray-900 text-sm font-semibold px-3 py-1 rounded-full">Zapier</span>
                            <span class="bg-teal-500 text-gray-900 text-sm font-semibold px-3 py-1 rounded-full">n8n</span>
                            <span class="bg-teal-500 text-gray-900 text-sm font-semibold px-3 py-1 rounded-full">Airtable</span>
                            <span class="bg-teal-500 text-gray-900 text-sm font-semibold px-3 py-1 rounded-full">Webflow</span>
                            <span class="bg-gray-700 text-gray-200 text-sm font-semibold px-3 py-1 rounded-full">CRM Strategy</span>
                            <span class="bg-gray-700 text-gray-200 text-sm font-semibold px-3 py-1 rounded-full">Chatbot Development</span>
                            <span class="bg-gray-700 text-gray-200 text-sm font-semibold px-3 py-1 rounded-full">Digital Marketing</span>
                            <span class="bg-gray-700 text-gray-200 text-sm font-semibold px-3 py-1 rounded-full">Copywriting</span>
                        </div>
                    </section>

                    <!-- Icebreaker Section -->
                    <section>
                        <h3 class="text-xl font-semibold border-b-2 border-teal-400 pb-2 mb-4">Icebreaker</h3>
                        <div class="yo-yo-container flex justify-center items-end pt-4 h-20 sm:h-24 cursor-pointer">
                            <div class="relative w-10 h-20">
                                <div id="yo-yo-body-wrapper" class="absolute bottom-0 left-0 w-full h-full" style="transform: translateY(-100%);">
                                    <svg class="absolute top-0 left-0 w-full h-full" viewBox="0 0 40 80">
                                        <line x1="20" y1="0" x2="20" y2="40" stroke="#9ca3af" stroke-width="2"/>
                                    </svg>
                                    <svg id="yo-yo-body" class="absolute bottom-0 left-0 w-10 h-10" viewBox="0 0 40 40">
                                        <circle cx="20" cy="20" r="18" fill="#2dd4bf"/>
                                        <circle cx="20" cy="20" r="12" fill="#1f2937" fill-opacity="0.3"/>
                                        <circle cx="20" cy="20" r="4" fill="#f1f5f9"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Special Skills Section -->
                    <section>
                        <h3 class="text-xl font-semibold border-b-2 border-teal-400 pb-2 mb-4">Special Skills</h3>
                         <ul class="space-y-3 text-gray-300 pt-2">
                            <li class="flex items-center gap-x-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-teal-400" fill="currentColor" viewBox="0 0 16 16"><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM6.79 5.093A.5.5 0 0 1 7.5 5h1a.5.5 0 0 1 .471.717L8.243 9.47l-.005.016.016.005.005-.016a.5.5 0 0 1-.717-.471l-.016-.005.005.016-.016-.005a.5.5 0 0 1 .471.717l-.005-.016.016.005a.5.5 0 0 1 .471.717l-.016-.005.005.016.016-.005a.5.5 0 0 1 .717.471l.005-.016.016.005a.5.5 0 0 1 0 .942l-2.5 1.5a.5.5 0 0 1-.717-.471l.016-.005-.005.016a.5.5 0 0 1-.471-.717l.005.016-.016-.005A.5.5 0 0 1 5 11l1.5-2.5a.5.5 0 0 1 .717-.471l.016.005-.005-.016.005.016a.5.5 0 0 1-.471-.717l-.005-.016.016.005z"/></svg><span>Yo-yo proficiency</span></li>
                            <li class="flex items-center gap-x-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-teal-400" fill="currentColor" viewBox="0 0 16 16"><path d="M6 2a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V2zm1 2v2h4V4a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1z"/><path d="m5 6.8-.91 6.37a1 1 0 0 0 .973 1.152l8.483-1.23a1 1 0 0 0 .82-.973L13.38 6.8H5zm.91 1.2h6.38l.69 4.82-6.23.9-1.53-4.82H5.91z"/></svg><span>Knows to pick the best pizza slice</span></li>
                             <li class="flex items-center gap-x-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-teal-400" fill="currentColor" viewBox="0 0 16 16"><path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/><path d="M1.5 1.5A.5.5 0 0 0 1 2v4.8a2.5 2.5 0 0 0 2.5 2.5h9a2.5 2.5 0 0 0 2.5-2.5V2a.5.5 0 0 0-.5-.5h-13zM2 2h12v4.8a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 6.8V2z"/></svg><span>Engaging Storyteller & Presenter</span></li>
                             <li class="flex items-center gap-x-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-teal-400" fill="currentColor" viewBox="0 0 16 16"><path d="M15.35 2.436a1 1 0 0 1-.226.58L12 6.586V13a1 1 0 0 1-1 1H2.5A1.5 1.5 0 0 1 1 12.5v-9A1.5 1.5 0 0 1 2.5 2H6a1 1 0 0 1 1-1h3.5a1 1 0 0 1 1 1h1.5a1.5 1.5 0 0 1 1.5 1.5v1.275l2.09-2.09a1 1 0 0 1 1.26-.039zM11 6.828l2.91-2.91-1.22-.61-2.315 2.315A.5.5 0 0 1 10 5.414V3.5A.5.5 0 0 0 9.5 3H7v5h5V6.5a.5.5 0 0 1 .146-.354z"/></svg><span>Official 'Kids-at-Work' Storyteller</span></li>
                        </ul>
                    </section>
                </div>
            </aside>

            <!-- Right Column (Main Content) -->
            <main class="w-full lg:w-2/3 p-6 sm:p-8 md:p-12">
                 <!-- Professional Summary -->
                 <section>
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-y-4 sm:gap-y-0 mb-4">
                        <h2 class="text-2xl sm:text-3xl font-bold text-gray-800 border-b-4 border-teal-400 pb-2 flex items-center gap-x-3">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-teal-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
                            Professional Summary
                        </h2>
                        <button id="summarize-btn" class="bg-teal-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-600 transition-all duration-300 flex items-center justify-center gap-x-2 w-full sm:w-auto">
                            <svg id="summarize-icon-default" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                            <span id="summarize-btn-text">Summarize with AI</span>
                             <svg id="summarize-icon-loading" class="animate-spin h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                        </button>
                    </div>
                    <div id="ai-summary-container" class="hidden bg-teal-50 border border-teal-200 p-4 rounded-lg my-4 text-gray-700"></div>
                    <p id="original-summary" class="text-gray-700 leading-relaxed">
                        I'm a Martech specialist who loves connecting the dots between marketing and technology. My journey started in the world of words and strategy—copywriting and managing marketing teams—which gave me a deep understanding of what makes customers tick. Today, I use that background to build the technological engines that drive business growth: designing intelligent CRM systems, developing AI agents and chatbots, and creating powerful automation workflows.
                    </p>
                 </section>

                 <div class="space-y-12 mt-12">
                     <!-- Work Experience Section -->
                     <section id="work-experience">
                        <h2 class="text-2xl sm:text-3xl font-bold text-gray-800 border-b-4 border-teal-400 pb-2 mb-6 flex items-center gap-x-3">
                           <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-teal-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
                           Work Experience
                       </h2>
                        <div class="space-y-8">
                            <div class="relative pl-8 sm:pl-10 before:absolute before:top-2 before:left-0 before:w-4 before:h-4 before:bg-teal-500 before:rounded-full before:ring-4 before:ring-white">
                               <h3 class="text-2xl font-semibold">Marketing & Automation Consultant</h3>
                               <p class="text-md text-gray-600">Self-Employed | 2022 - Present</p>
                               <ul class="list-disc list-inside mt-2 text-gray-700 space-y-2">
                                   <li>Consulting with business owners on marketing strategy and process automation.</li>
                                   <li>Managing full-cycle website development projects, from specification to execution for content-rich sites.</li>
                                   <li>Designing and implementing custom CRM systems and complex automation workflows.</li>
                                   <li>Developing chatbots and AI agents to improve customer engagement and efficiency.</li>
                                   <li>Lecturing on digital marketing and automation topics to professionals and students.</li>
                               </ul>
                            </div>
                            <div class="relative pl-8 sm:pl-10 before:absolute before:top-2 before:left-0 before:w-4 before:h-4 before:bg-teal-500 before:rounded-full before:ring-4 before:ring-white">
                               <h3 class="text-2xl font-semibold">Professional Marketing Manager</h3>
                               <p class="text-md text-gray-600">Leading Media Company | (Previous Role)</p>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-2">
                                   <li>Managed a high-performing team of 5 campaign managers.</li>
                                   <li>Oversaw large-scale advertising budgets, ensuring optimal ROI and performance.</li>
                                   <li>Developed client relationships, handled sales processes, and drove departmental growth.</li>
                               </ul>
                            </div>
                             <div class="relative pl-8 sm:pl-10 before:absolute before:top-2 before:left-0 before:w-4 before:h-4 before:bg-teal-500 before:rounded-full before:ring-4 before:ring-white">
                               <h3 class="text-2xl font-semibold">Digital Copywriter</h3>
                               <p class="text-md text-gray-600">Webimage | (Previous Role)</p>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-2">
                                   <li>Wrote compelling and high-converting copy for websites, landing pages, and ad campaigns.</li>
                               </ul>
                            </div>
                        </div>
                    </section>
                     
                     <!-- Projects Section -->
                     <section>
                         <h2 class="text-2xl sm:text-3xl font-bold text-gray-800 border-b-4 border-teal-400 pb-2 mb-6 flex items-center gap-x-3">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-teal-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547a2 2 0 00-.547 1.806l.477 2.387a6 6 0 00.517 3.86l.158.318a6 6 0 003.86.517l2.387.477a2 2 0 001.806-.547a2 2 0 00.547-1.806l-.477-2.387a6 6 0 00-.517-3.86l-.158-.318a6 6 0 01-.517-3.86l2.387-.477a2 2 0 001.022-.547zM12 18a3 3 0 100-6 3 3 0 000 6z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                            Featured Projects
                        </h2>
                        <div class="space-y-6">
                            <div>
                                <h3 class="text-2xl font-semibold">AI Landing Page Analyzer</h3>
                                <p class="text-gray-700 mt-1 leading-relaxed">Developed an AI agent using n8n that analyzes landing page URLs, providing insights on structure, content, and potential improvements to boost conversion rates.</p>
                                 <a href="https://n8n.eliranor.com/form/b5fdfc6b-4044-442e-8cb0-9825e0fd4d14" target="_blank" class="text-teal-600 hover:underline font-semibold transition-colors duration-300">Try the AI Agent</a>
                            </div>
                            <div>
                                <h3 class="text-2xl font-semibold">Custom CRM for a Stand-Up Comedian</h3>
                                <p class="text-gray-700 mt-1 leading-relaxed">Designed and built a custom CRM system with an intelligent workflow that automatically sends relevant performance clips to leads, prospects, and existing clients based on their engagement level.</p>
                            </div>
                            <div>
                                <h3 class="text-2xl font-semibold">Smart Workflow for a Bankruptcy Lawyer</h3>
                                <p class="text-gray-700 mt-1 leading-relaxed">Developed a complex workflow to automate client intake, document management, and communication processes, significantly reducing manual work for a law firm specializing in bankruptcy.</p>
                            </div>
                             <div>
                                <h3 class="text-2xl font-semibold">Smart Dashboards for a Cyber & Tech School</h3>
                                <p class="text-gray-700 mt-1 leading-relaxed">Developed and implemented smart dashboards that helped improve marketing efforts and significantly upgraded conversion rates for a leading technology school.</p>
                            </div>
                        </div>
                    </section>

                     <!-- AI Assistant Section -->
                     <section>
                         <h2 class="text-2xl sm:text-3xl font-bold text-gray-800 border-b-4 border-teal-400 pb-2 mb-6 flex items-center gap-x-3">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-teal-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                            </svg>
                            Ask My AI Assistant
                        </h2>
                        <div class="pt-2">
                            <div id="chat-container" class="bg-slate-50 rounded-lg p-4">
                                <div id="chat-window" class="h-64 overflow-y-auto mb-4 space-y-4 pr-2">
                                    <!-- AI Greeting -->
                                    <div class="flex items-start gap-2.5">
                                        <div class="flex flex-col w-full max-w-[320px] leading-1.5 p-4 border-gray-200 bg-gray-100 rounded-e-xl rounded-es-xl">
                                            <p class="text-sm font-normal py-2.5 text-gray-900">Hi! I'm Eliran's AI assistant. Feel free to ask me anything about his skills or experience.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex items-center">
                                    <input type="text" id="chat-input" class="flex-grow bg-gray-100 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-teal-500 focus:border-teal-500 p-2.5" placeholder="e.g., 'Tell me about his CRM projects'">
                                    <button id="send-btn" class="ml-2 bg-teal-500 text-white p-2.5 rounded-lg hover:bg-teal-600 transition-colors duration-300">
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </main>
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- Gemini API Functionality ---
    const apiKey = ""; // Canvas will provide the key
    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

    const summarizeBtn = document.getElementById('summarize-btn');
    const summarizeBtnText = document.getElementById('summarize-btn-text');
    const defaultIcon = document.getElementById('summarize-icon-default');
    const loadingIcon = document.getElementById('summarize-icon-loading');
    const aiSummaryContainer = document.getElementById('ai-summary-container');
    const originalSummary = document.getElementById('original-summary');
    const workExperienceSection = document.getElementById('work-experience');

    const chatWindow = document.getElementById('chat-window');
    const chatInput = document.getElementById('chat-input');
    const sendBtn = document.getElementById('send-btn');
    
    // --- AI Summary ---
    summarizeBtn.addEventListener('click', async () => {
        if (aiSummaryContainer.style.display === 'block') {
             aiSummaryContainer.style.display = 'none';
             return;
        }

        loadingIcon.classList.remove('hidden');
        defaultIcon.classList.add('hidden');
        summarizeBtnText.textContent = 'Summarizing...';

        const prompt = `Based on the following professional experience, write a short, sharp summary (2-3 sentences) for a busy hiring manager. Focus on the core value proposition. Experience: ${originalSummary.innerText}\n\n${workExperienceSection.innerText}`;
        
        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
            });
            const result = await response.json();
            const summary = result.candidates[0].content.parts[0].text;
            
            aiSummaryContainer.innerHTML = summary.replace(/\n/g, '<br>');
            aiSummaryContainer.style.display = 'block';

        } catch (error) {
            console.error('Error fetching AI summary:', error);
            aiSummaryContainer.innerText = 'Sorry, the AI summary could not be generated at this time.';
            aiSummaryContainer.style.display = 'block';
        } finally {
            loadingIcon.classList.add('hidden');
            defaultIcon.classList.remove('hidden');
            summarizeBtnText.textContent = 'Summarize with AI';
        }
    });

    // --- AI Assistant Chat ---
    const resumeContext = `You are Eliran Or's professional AI assistant, embedded in his interactive resume. Your goal is to answer questions from recruiters and hiring managers based ONLY on the information provided below. Be friendly, concise, and professional. If a question is about a topic not covered in the resume (e.g., 'What's his favorite color?') or is inappropriate, politely decline and state that your purpose is to discuss Eliran's professional qualifications.

    Here is Eliran Or's resume information:
    - Name: Eliran Or
    - Title: No-Code Automation Specialist
    - Location: Tel Aviv, Israel
    - Professional Summary: I'm a Martech specialist who loves connecting the dots between marketing and technology. My journey started in the world of words and strategy—copywriting and managing marketing teams—which gave me a deep understanding of what makes customers tick. Today, I use that background to build the technological engines that drive business growth: designing intelligent CRM systems, developing AI agents and chatbots, and creating powerful automation workflows.
    - Skills & Tools: Make (Integromat), Zapier, n8n, Airtable, Webflow, CRM Strategy, Chatbot Development, Digital Marketing, Copywriting.
    - Work Experience: 
        1. Marketing & Automation Consultant (Self-Employed | 2022 - Present): Consulting for business owners, managing website development projects, designing CRM systems and automation workflows, developing chatbots, and lecturing on digital marketing.
        2. Professional Marketing Manager (Leading Media Company): Managed a team of 5 campaign managers, responsible for large advertising budgets, and developed client relationships.
        3. Digital Copywriter (Webimage): Wrote compelling copy for websites, landing pages, and ad campaigns.
    - Featured Projects: 
        1. AI Landing Page Analyzer: An AI agent using n8n that analyzes landing page URLs and provides conversion-focused insights.
        2. Custom CRM for a Stand-Up Comedian: Designed and built a custom CRM with an intelligent workflow that automatically sends relevant performance clips to leads, prospects, and clients.
        3. Smart Workflow for a Bankruptcy Lawyer: Developed a complex workflow to automate client intake and document management for a law firm.
        4. Smart Dashboards for a Cyber & Tech School: Developed smart dashboards that helped improve marketing and upgraded conversion rates.
    - Special Skills: Advanced yo-yo proficiency, Expert pizza slice selection, Engaging Storyteller, Compelling Presenter, Official 'Kids-at-Work' Storyteller.`;

    let chatHistory = [];

    const handleSendMessage = async () => {
        const userMessage = chatInput.value.trim();
        if (!userMessage) return;

        appendMessage(userMessage, 'user');
        chatInput.value = '';
        appendMessage('...', 'ai', true); // Typing indicator

        chatHistory.push({ role: "user", parts: [{ text: userMessage }] });

        const payload = {
            contents: chatHistory,
            systemInstruction: { parts: [{ text: resumeContext }] }
        };

        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            const result = await response.json();
            const aiMessage = result.candidates[0].content.parts[0].text;
            
            updateLastMessage(aiMessage);
            chatHistory.push({ role: "model", parts: [{ text: aiMessage }] });

        } catch (error) {
            console.error("Error with AI chat:", error);
            updateLastMessage("I'm having a little trouble connecting right now. Please try again in a moment.");
        }
    };

    const appendMessage = (text, sender, isTyping = false) => {
        const messageDiv = document.createElement('div');
        const contentDiv = document.createElement('div');
        contentDiv.classList.add('flex', 'flex-col', 'w-full', 'max-w-[320px]', 'leading-1.5', 'p-4', 'border-gray-200');
        
        if (sender === 'user') {
            messageDiv.classList.add('flex', 'items-start', 'gap-2.5', 'justify-end');
            contentDiv.classList.add('bg-teal-500', 'rounded-s-xl', 'rounded-ee-xl');
            contentDiv.innerHTML = `<p class="text-sm font-normal py-2.5 text-white">${text}</p>`;
        } else {
            messageDiv.classList.add('flex', 'items-start', 'gap-2.5');
            contentDiv.classList.add('bg-gray-100', 'rounded-e-xl', 'rounded-es-xl');
            if(isTyping) {
                 messageDiv.id = 'typing-indicator';
                 contentDiv.innerHTML = `<div class="flex items-center space-x-2">
                    <div class="w-2 h-2 rounded-full bg-gray-400 animate-pulse"></div>
                    <div class="w-2 h-2 rounded-full bg-gray-400 animate-pulse" style="animation-delay: 0.2s;"></div>
                    <div class="w-2 h-2 rounded-full bg-gray-400 animate-pulse" style="animation-delay: 0.4s;"></div>
                </div>`;
            } else {
                 contentDiv.innerHTML = `<p class="text-sm font-normal py-2.5 text-gray-900">${text}</p>`;
            }
        }
        
        messageDiv.appendChild(contentDiv);
        chatWindow.appendChild(messageDiv);
        chatWindow.scrollTop = chatWindow.scrollHeight;
    };

    const updateLastMessage = (text) => {
        const typingIndicator = document.getElementById('typing-indicator');
        if (typingIndicator) {
            const contentDiv = typingIndicator.querySelector('div');
            contentDiv.innerHTML = `<p class="text-sm font-normal py-2.5 text-gray-900">${text}</p>`;
            typingIndicator.removeAttribute('id');
        }
    };

    sendBtn.addEventListener('click', handleSendMessage);
    chatInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            handleSendMessage();
        }
    });
});
</script>

</body>
</html>